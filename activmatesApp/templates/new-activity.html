{% extends 'layout.html' %} 
{% block head %}

<script src="{{ url_for('static', filename='javascript/map-address-field.js') }}"></script>

{% endblock %} 
{% block body %}
<div class="content-section ">
  <div class="row w-50 mx-auto">
    <div class="col mt-3">
      <form action="" method="POST">
        {{ form.hidden_tag() }}
        <fieldset class="card form-control d-grid gap-3">
          <legend>{{ legend }}</legend>
          <div class="">
            {{ form.title.label() }} 
            {% if form.title.errors %} 
            {{ form.title(class="form-control is-invalid", placeholder="eg. Running training") }}
            <div class="invalid-feedback">
              {% for error in form.title.errors %}
              <span>{{ error }}</span>
              {% endfor %}
            </div>
            {% else %} 
            {{ form.title(class="form-control", placeholder="eg. Running training") }} 
            {% endif %}
          </div>
          <div class="form-group ">
            {{ form.activity_type.label() }} 
            {% if form.activity_type.errors %} 
            {{ form.activity_type(class="form-control is-invalid", placeholder="Select activity type") }}
            <div class="invalid-feedback">
              {% for error in form.activity_type.errors %}
              <span>{{ error }}</span>
              {% endfor %}
            </div>
            {% else %} {{ form.activity_type(class="form-control",
            placeholder="Type") }} {% endif %}
          </div>
          <div class="form-group ">
            {{ form.address.label() }} 
            {% if form.address.errors %}
            <div id="addressField">
              <input
                id="autocomplete"
                placeholder="Enter your address"
                type="text"
                class="d-inline w-75"
              />
            </div>
            <div class="invalid-feedback">
              {% for error in form.address.errors %}
              <span>{{ error }}</span>
              {% endfor %}
            </div>
            {% else %}
            <div id="addressField">
              <input
                id="autocomplete"
                placeholder= "{{ address_placeholder }}"
                type="text"
                class="form-control"
              />
            </div>
            {% endif %}
          </div>
          <div class="form-group description">
            {{ form.description.label() }} 
            {% if form.description.errors %} 
              {{ form.description(class="form-control is-invalid", placeholder="Let us know what you do, your skill level, your availability etc.") }}
            <div class="invalid-feedback">
              {% for error in form.description.errors %}
              <span>{{ error }}</span>
              {% endfor %}
            </div>
            {% else %} 
              {{ form.description(class="d-block form-control", placeholder="Let us know what you do, your skill level, your availability etc. ") }} 
            {% endif %}
          </div>
          <div class="form-group activity-pciture">
            {{ form.picture.label() }} 
            {% if form.picture.errors %} 
              {{ form.picture(class="form-control is-invalid", placeholder="picture") }}
            <div class="invalid-feedback">
              {% for error in form.picture.errors %}
              <span>{{ error }}</span>
              {% endfor %}
            </div>
            {% else %} 
              {{ form.picture(class="form-control", placeholder="picture") }} 
            {% endif %}
          </div>
          <div class="form-group">
            {{ form.submit(class="secondary")}}
          </div>
        </fieldset>
      </form>
    </div>
  </div>
</div>
<script
  async
  src="https://maps.googleapis.com/maps/api/js?key={{map_key}}&libraries=places&callback=initAutocomplete"
></script>
{% endblock %}
